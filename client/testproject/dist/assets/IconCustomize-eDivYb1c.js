import{r as F,_ as W,W as M,a as j,T as z,S as E,R as b,b as O,i as V,c as S,o as _,d as w,e as n,f as s,g as C,w as u,n as y,F as f,h as U,t as v,j as D,k as H,l as P,m as B,p as G,q as N,s as Q,u as q,v as T,x as A,y as J,z as K,A as X}from"./index-UH0JoAey.js";class Y{constructor(){this.resetData()}get allData(){return this.data}get size(){return this.maxSize}resetData(){this.data=[],this.maxSize=10}addData(e){this.data.length===this.maxSize&&this.data.pop(),this.isColourExist(e)||this.data.unshift(e)}getColour(e){return e<0||e>this.maxSize||e>this.data.length?null:this.data[e]}isColourExist(e){for(let i=0;i<this.data.length;i++)if(this.data[i]===e)return!0;return!1}}const Z=new Y,L=F(Z),$={components:{Window:M,WindowContainerDivider:j,TextInput:z,SingleButton:E,RangeSlider:b,SVGHandler:O},props:{loaded_Data:{type:String,default:null}},emits:["setColour"],data(){return{iconImageStorage:V,colourQueue:L,m_HSLValues:{Hue:0,Saturation:0,Light:0},m_HSLCSS:{Hue:0,Saturation:0,Light:0},m_HexValue:"#000000",m_HSLString:"",isUpdateString:!0,m_DisplayWindow:!1}},methods:{saveColour(){L.addData(this.m_HexValue),this.emitSave()},emitSave(){this.$emit("setColour",this.m_HexValue)},clamp(t,e,i){return Math.max(e,Math.min(t,i))},loadColour(t){let e=L.getColour(t);e&&(this.m_HexValue=e,this.updateHSLCSSValues())},updateHSLCSSValues(){let t=String(this.m_HSLValues.Hue),e=String(this.m_HSLValues.Saturation)+"%",i=String(this.m_HSLValues.Light)+"%";this.m_HSLString=`hsl( ${t}, ${e}, ${i} )`},updateHSLSlider(t){let e=t.replace(/[^\d,]/g,"").split(",");this.setHSL(this.clamp(e[0],0,300),this.clamp(e[1],0,100),this.clamp(e[2],0,100))},updateHexString(){this.m_HexValue=this.hslToHex(this.m_HSLValues.Hue,this.m_HSLValues.Saturation,this.m_HSLValues.Light)},setHSL(t,e,i){this.m_HSLValues.Hue=t,this.m_HSLValues.Saturation=e,this.m_HSLValues.Light=i},userHexParser(t){if(!/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t))return;const{h:i,s:d,l:o}=this.hexToHSL(t);this.setHSL(i,d,o),this.updateHSLCSSValues()},hslToHex(t,e,i){i/=100;const d=e*Math.min(i,1-i)/100,o=l=>{const r=(l+t/30)%12,c=i-d*Math.max(Math.min(r-3,9-r,1),-1);return Math.round(255*c).toString(16).padStart(2,"0")};return`#${o(0)}${o(8)}${o(4)}`},hexToHSL(t){const e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);let i=parseInt(e[1],16),d=parseInt(e[2],16),o=parseInt(e[3],16);i/=255,d/=255,o/=255;let l=Math.max(i,d,o),r=Math.min(i,d,o),c,h,g=(l+r)/2;if(l==r)c=h=0;else{var p=l-r;switch(h=g>.5?p/(2-l-r):p/(l+r),l){case i:c=(d-o)/p+(d<o?6:0);break;case d:c=(o-i)/p+2;break;case o:c=(i-d)/p+4;break}c/=6}return c=Math.round(c*360),h=Math.round(h*100),g=Math.round(g*100),{h:c,s:h,l:g}},disableTextUpdate(){this.isUpdateString=!1},enableTextUpdate(){this.isUpdateString=!0},toggleWindow(){return this.m_DisplayWindow=!this.m_DisplayWindow,this.m_DisplayWindow},loadIconColourData(){this.m_HexValue=this.loaded_Data}},created(){this.loadIconColourData(),this.updateHSLCSSValues(),this.setHSL(this.hexToHSL(this.m_HexValue))},unmounted(){this.m_DisplayWindow=!1},watch:{loaded_Data(){this.loadIconColourData(),this.updateHSLCSSValues()},m_HSLValues:{handler(){this.updateHSLCSSValues(),this.updateHexString()},deep:!0},m_HexValue(t){this.isUpdateString&&t.length==7&&this.userHexParser(t)},m_HSLString(t){this.isUpdateString&&t&&this.updateHSLSlider(t)}}},R=t=>(G("data-v-95539ff1"),t=t(),N(),t),ee={class:"width-half half-item-margin"},te={class:"width-half half-item-margin"},oe=R(()=>n("p",null,"Hex:",-1)),le=R(()=>n("p",null,"HSL",-1)),ie={class:"flex flex-space"},ne=["onClick"],se={class:"flex end"};function ae(t,e,i,d,o,l){const r=S("SVGHandler"),c=S("TextInput"),h=S("RangeSlider"),g=S("SingleButton"),p=S("WindowContainerDivider"),I=S("Window");return _(),w(f,null,[n("div",{class:"palette-button palette-padding palette-margin",onClick:e[0]||(e[0]=(...a)=>l.toggleWindow&&l.toggleWindow(...a))},[s(r,{view_Box:"0 -960 960 960",height:"100%",width:"100%",fill_Colour:"#E8EAED",path_Value:o.iconImageStorage.getPathData("Colour_Palette")},null,8,["path_Value"])]),(_(),C(B,{to:"body"},[s(P,{name:"fade"},{default:u(()=>[o.m_DisplayWindow?(_(),C(I,{key:0,title:"Colour Picker",width:350,onCloseWindow:e[7]||(e[7]=a=>l.toggleWindow())},{"window-icon":u(()=>[s(r,{height:"35px",width:"auto",view_Box:"0 -960 960 960",fill_Colour:"#CCCCCC",path_Value:o.iconImageStorage.getPathData("Colour_Palette")},null,8,["path_Value"])]),"window-content":u(()=>[s(p,null,{content:u(()=>[n("div",{class:"flex",onMouseup:e[3]||(e[3]=(...a)=>t.enableHexUpdate&&t.enableHexUpdate(...a))},[n("div",ee,[n("div",{class:"square",style:y({"background-color":o.m_HSLString})},null,4)]),n("div",te,[oe,s(c,{class:"text-input-spacing",placeholder_text:"Hex Value",max_length:7,modelValue:o.m_HexValue,"onUpdate:modelValue":e[1]||(e[1]=a=>o.m_HexValue=a)},null,8,["modelValue"]),le,s(c,{placeholder_text:"HSL Value",modelValue:o.m_HSLString,"onUpdate:modelValue":e[2]||(e[2]=a=>o.m_HSLString=a)},null,8,["modelValue"])])],32),n("div",ie,[(_(!0),w(f,null,U(o.colourQueue.maxSize,(a,m)=>(_(),w("div",{key:m,class:"Queue-Box",style:y({"background-color":o.colourQueue.getColour(m)}),onClick:x=>l.loadColour(m)},null,12,ne))),128))]),n("p",null," Hue = "+v(o.m_HSLValues.Hue),1),s(h,{no_Items:300,start_Index:o.m_HSLValues.Hue,modelValue:o.m_HSLValues.Hue,"onUpdate:modelValue":e[4]||(e[4]=a=>o.m_HSLValues.Hue=a),onMousedown:l.disableTextUpdate,onMouseup:l.enableTextUpdate},null,8,["start_Index","modelValue","onMousedown","onMouseup"]),n("p",null," Saturation = "+v(o.m_HSLValues.Saturation)+"% ",1),s(h,{no_Items:100,start_Index:o.m_HSLValues.Saturation,modelValue:o.m_HSLValues.Saturation,"onUpdate:modelValue":e[5]||(e[5]=a=>o.m_HSLValues.Saturation=a),onMousedown:l.disableTextUpdate,onMouseup:l.enableTextUpdate},null,8,["start_Index","modelValue","onMousedown","onMouseup"]),n("p",null," Light = "+v(o.m_HSLValues.Light)+"% ",1),s(h,{no_Items:100,start_Index:o.m_HSLValues.Light,modelValue:o.m_HSLValues.Light,"onUpdate:modelValue":e[6]||(e[6]=a=>o.m_HSLValues.Light=a),onMousedown:l.disableTextUpdate,onMouseup:l.enableTextUpdate},null,8,["start_Index","modelValue","onMousedown","onMouseup"]),n("div",se,[s(g,{onClick:l.saveColour,m_IconString:"Save"},{default:u(()=>[D(" Save Colour ")]),_:1},8,["onClick"])])]),_:1})]),_:1})):H("",!0)]),_:1})]))],64)}const ue=W($,[["render",ae],["__scopeId","data-v-95539ff1"]]),re={components:{WindowContainerDivider:j,ToolTip:Q,RangeSlider:b,TextInput:z,SVGHandler:O,Window:M,ColourPicker:ue,RangeSlider:b},data(){return{iconSelect:q,iconImageStorage:V,m_SelectedObject:{},m_SelectedIconIndex:-1,displayText:!0,m_DisplayWindow:!1,m_Rows:7,m_Columns:0,m_iconSizePixels:["50","75","100"],m_localIconColourHex:"#CCCCCC"}},created(){this.calculateDimensions()},unmounted(){this.m_DisplayWindow=!1},methods:{setColourData(t){this.m_SelectedObject.iconColour=t},getIndex(){for(let t=0;t<this.m_iconSizePixels.length;t++)if(this.m_SelectedObject.iconSize===this.m_iconSizePixels[t])return t},newSelect(t){if(this.isCurrentlySelected())return;let e=V.getPathFromIndex(t);this.m_SelectedObject.iconImage=e.name,this.setSVGIndex(e.name)},getSVG(t){return V.getPathFromIndex(t).pathData},calculateDimensions(){let t=40;this.m_Columns=~~(t/this.m_Rows)},isSelectedIcon(t){if(!this.isCurrentlySelected())return this.m_SelectedIconIndex===t},focusClickedTab(t){if(this.$windowStack.length<=1)return;let e=t.toLowerCase(),i=this.$windowStack.value.indexOf(e);if(i!=this.$windowStack.value.length-1&&i>-1){let d=this.$windowStack.value[i];this.$windowStack.value.splice(i,1),this.$windowStack.value.push(d)}},toggleWindow(){return this.m_DisplayWindow=!this.m_DisplayWindow,this.m_DisplayWindow},isCurrentlySelected(){return Object.keys(this.m_SelectedObject).length===0&&this.m_SelectedObject.constructor===Object},displaySelectedData(t){if(t.iconID===""||t.groupID===""){this.m_SelectedObject={};return}let e=T.getGroup(t.groupID);this.m_SelectedObject=T.getIconDataFromID(e,t.iconID),this.setSVGIndex(this.m_SelectedObject.iconImage)},setSVGIndex(t){this.m_SelectedIconIndex=V.getIndexFromName(t)},changeIconSize(t){this.m_SelectedObject.iconSize=this.m_iconSizePixels[t]}},watch:{"iconSelect.dataValue":{handler(t){this.displaySelectedData(t)},deep:!0}}},k=t=>(G("data-v-78d14b9c"),t=t(),N(),t),de={class:"flex"},ce={class:"width-half"},me=k(()=>n("h2",{class:"inline"}," Displayed icon ",-1)),he={class:"pos-absolute bottom-right button-shift"},_e={key:0},Se={class:"width-half"},pe=k(()=>n("h2",{class:"inline"}," Name ",-1)),ge=k(()=>n("h2",{class:"inline"}," Icon Size ",-1)),xe={class:"saved-grid width-full grid"};function we(t,e,i,d,o,l){const r=S("SVGHandler"),c=S("ColourPicker"),h=S("WindowContainerDivider"),g=S("TextInput"),p=S("RangeSlider"),I=S("ToolTip"),a=S("Window");return _(),w(f,null,[n("div",null,[n("div",de,[n("div",ce,[s(h,{class:"container-divider"},{header:u(()=>[me]),content:u(()=>[n("div",{class:"image-placeholder flex pos-relative mouse-hover",onClick:e[2]||(e[2]=A(m=>l.toggleWindow(),["self"]))},[l.isCurrentlySelected()?(_(),C(r,{key:1,height:"100%",width:"100%",path_Value:o.iconImageStorage.getPathData("Cross"),view_Box:o.iconImageStorage.getViewBoxName("Cross")},null,8,["path_Value","view_Box"])):(_(),w(f,{key:0},[n("div",{class:"icon-fit center fit-content",onClick:e[0]||(e[0]=m=>l.toggleWindow())},[s(r,{height:"150",width:"150",fill_Colour:o.m_SelectedObject.iconColour,path_Value:o.iconImageStorage.getPathData(o.m_SelectedObject.iconImage),view_Box:o.iconImageStorage.getViewBoxName(o.m_SelectedObject.iconImage)},null,8,["fill_Colour","path_Value","view_Box"])]),n("div",he,[s(c,{loaded_Data:o.m_SelectedObject.iconColour,onSetColour:e[1]||(e[1]=m=>l.setColourData(m))},null,8,["loaded_Data"])])],64))]),l.isCurrentlySelected()?(_(),w("p",_e," None currently selected! ")):H("",!0)]),_:1})]),n("div",Se,[s(h,{class:"container-divider"},{header:u(()=>[pe]),content:u(()=>[s(g,{placeholder_text:"Icon name",modelValue:o.m_SelectedObject.iconString,"onUpdate:modelValue":e[3]||(e[3]=m=>o.m_SelectedObject.iconString=m)},null,8,["modelValue"])]),_:1}),s(h,{class:"container-divider"},{header:u(()=>[ge]),content:u(()=>[s(p,{no_Items:o.m_iconSizePixels.length,caption_Data:o.m_iconSizePixels,modelValue:o.m_SelectedObject.iconSize,"onUpdate:modelValue":e[4]||(e[4]=m=>o.m_SelectedObject.iconSize=m)},null,8,["no_Items","caption_Data","modelValue"])]),tooltip:u(()=>[s(I,null,{default:u(()=>[D(" Size in px of the icon")]),_:1})]),_:1})])]),n("div",null,[n("label",null,[J(n("input",{type:"checkbox","onUpdate:modelValue":e[5]||(e[5]=m=>o.m_SelectedObject.displayText=m)},null,512),[[K,o.m_SelectedObject.displayText]]),D(" Display text ")])])]),(_(),C(B,{to:"body"},[s(P,{name:"fade"},{default:u(()=>[o.m_DisplayWindow?(_(),C(a,{key:0,title:"Icon Menu",width:500,onCloseWindow:e[6]||(e[6]=m=>l.toggleWindow()),onFocusTab:l.focusClickedTab},{"window-icon":u(()=>[s(r,{height:"35px",width:"auto",view_Box:"0 -960 960 960",fill_Colour:"#CCCCCC",path_Value:o.iconImageStorage.getPathData("Bookmark_Plus")},null,8,["path_Value"])]),"window-content":u(()=>[s(h,null,{content:u(()=>[n("div",xe,[(_(!0),w(f,null,U(o.m_Rows*o.m_Columns,(m,x)=>(_(),w("div",{key:x,class:X(["saved-icons flex",{"icon-Selection":l.isSelectedIcon(x),"grid-item":!l.isSelectedIcon(x)}])},[o.iconImageStorage.isValidIndex(x)?(_(),C(r,{key:0,width:"100%",height:"auto",fill_Colour:o.m_localIconColourHex,path_Value:l.getSVG(x),view_Box:o.iconImageStorage.getViewBoxIndex(x),onClick:Ce=>l.newSelect(x)},null,8,["fill_Colour","path_Value","view_Box","onClick"])):H("",!0)],2))),128))])]),_:1})]),_:1},8,["onFocusTab"])):H("",!0)]),_:1})]))],64)}const fe=W(re,[["render",we],["__scopeId","data-v-78d14b9c"]]);export{fe as default};
