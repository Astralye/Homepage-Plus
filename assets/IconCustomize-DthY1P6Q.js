import{r as Q,_ as M,W as O,a as j,T as z,S as q,R as P,b as U,i as H,w as v,c as S,o as h,d as x,e as i,f as a,g as V,h as s,n as T,F as f,j as B,t as b,k as W,l as I,m as G,p as N,q as R,s as E,C as A,u as J,v as K,x as y,y as X,z as Y}from"./index-c0Kn3JWq.js";class Z{constructor(){this.resetData()}get allData(){return this.data}get size(){return this.maxSize}resetData(){this.data=[],this.maxSize=10}addData(e){this.data.length===this.maxSize&&this.data.pop(),this.isColourExist(e)||this.data.unshift(e)}getColour(e){return e<0||e>this.maxSize||e>this.data.length?null:this.data[e]}isColourExist(e){for(let l=0;l<this.data.length;l++)if(this.data[l]===e)return!0;return!1}}const $=new Z,k=Q($),ee={components:{Window:O,WindowContainerDivider:j,TextInput:z,SingleButton:q,RangeSlider:P,SVGHandler:U},props:{loaded_Data:{type:String,default:null}},emits:["setColour"],data(){return{iconImageStorage:H,colourQueue:k,windowHandler:v,m_HSLValues:{Hue:0,Saturation:0,Light:0},m_HSLCSS:{Hue:0,Saturation:0,Light:0},m_HexValue:"#000000",m_HSLString:"",isUpdateString:!0}},methods:{saveColour(){k.addData(this.m_HexValue),this.emitSave()},emitSave(){this.$emit("setColour",this.m_HexValue)},clamp(t,e,l){return Math.max(e,Math.min(t,l))},loadColour(t){let e=k.getColour(t);e&&(this.m_HexValue=e,this.updateHSLCSSValues())},updateHSLCSSValues(){let t=String(this.m_HSLValues.Hue),e=String(this.m_HSLValues.Saturation)+"%",l=String(this.m_HSLValues.Light)+"%";this.m_HSLString=`hsl( ${t}, ${e}, ${l} )`},updateHSLSlider(t){let e=t.replace(/[^\d,]/g,"").split(",");this.setHSL(this.clamp(e[0],0,300),this.clamp(e[1],0,100),this.clamp(e[2],0,100))},updateHexString(){this.m_HexValue=this.hslToHex(this.m_HSLValues.Hue,this.m_HSLValues.Saturation,this.m_HSLValues.Light)},setHSL(t,e,l){this.m_HSLValues.Hue=t,this.m_HSLValues.Saturation=e,this.m_HSLValues.Light=l},userHexParser(t){if(!/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t))return;const{h:l,s:r,l:o}=this.hexToHSL(t);this.setHSL(l,r,o),this.updateHSLCSSValues()},hslToHex(t,e,l){l/=100;const r=e*Math.min(l,1-l)/100,o=n=>{const u=(n+t/30)%12,d=l-r*Math.max(Math.min(u-3,9-u,1),-1);return Math.round(255*d).toString(16).padStart(2,"0")};return`#${o(0)}${o(8)}${o(4)}`},hexToHSL(t){const e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);let l=parseInt(e[1],16),r=parseInt(e[2],16),o=parseInt(e[3],16);l/=255,r/=255,o/=255;let n=Math.max(l,r,o),u=Math.min(l,r,o),d,m,g=(n+u)/2;if(n==u)d=m=0;else{var p=n-u;switch(m=g>.5?p/(2-n-u):p/(n+u),n){case l:d=(r-o)/p+(r<o?6:0);break;case r:d=(o-l)/p+2;break;case o:d=(l-r)/p+4;break}d/=6}return d=Math.round(d*360),m=Math.round(m*100),g=Math.round(g*100),{h:d,s:m,l:g}},disableTextUpdate(){this.isUpdateString=!1},enableTextUpdate(){this.isUpdateString=!0},loadIconColourData(){this.m_HexValue=this.loaded_Data}},created(){this.loadIconColourData(),this.updateHSLCSSValues(),this.setHSL(this.hexToHSL(this.m_HexValue))},unmounted(){v.disableWindow("colour picker")},watch:{loaded_Data(){this.loadIconColourData(),this.updateHSLCSSValues()},m_HSLValues:{handler(){this.updateHSLCSSValues(),this.updateHexString()},deep:!0},m_HexValue(t){this.isUpdateString&&t.length==7&&this.userHexParser(t)},m_HSLString(t){this.isUpdateString&&t&&this.updateHSLSlider(t)}}},F=t=>(R("data-v-3848a1f2"),t=t(),E(),t),te={class:"width-half half-item-margin"},oe={class:"width-half half-item-margin"},le=F(()=>i("p",null,"Hex:",-1)),ne=F(()=>i("p",null,"HSL",-1)),ie={class:"flex flex-space"},ae=["onClick"],se={class:"flex end"};function ue(t,e,l,r,o,n){const u=S("SVGHandler"),d=S("TextInput"),m=S("RangeSlider"),g=S("SingleButton"),p=S("WindowContainerDivider"),L=S("Window");return h(),x(f,null,[i("div",{class:"palette-button palette-padding palette-margin",onClick:e[0]||(e[0]=c=>o.windowHandler.toggleWindow("colour picker"))},[a(u,{view_Box:"0 -960 960 960",height:"100%",width:"100%",fill_Colour:"#E8EAED",path_Value:o.iconImageStorage.getPathData("Colour_Palette")},null,8,["path_Value"])]),(h(),V(N,{to:"body"},[a(G,{name:"fade"},{default:s(()=>[o.windowHandler.getEditValue("colour picker")?(h(),V(L,{key:0,title:"Colour Picker",width:350},{"window-icon":s(()=>[a(u,{height:"35px",width:"auto",view_Box:"0 -960 960 960",fill_Colour:"#CCCCCC",path_Value:o.iconImageStorage.getPathData("Colour_Palette")},null,8,["path_Value"])]),"window-content":s(()=>[a(p,null,{content:s(()=>[i("div",{class:"flex",onMouseup:e[3]||(e[3]=(...c)=>t.enableHexUpdate&&t.enableHexUpdate(...c))},[i("div",te,[i("div",{class:"square",style:T({"background-color":o.m_HSLString})},null,4)]),i("div",oe,[le,a(d,{class:"text-input-spacing",placeholder_text:"Hex Value",max_length:7,modelValue:o.m_HexValue,"onUpdate:modelValue":e[1]||(e[1]=c=>o.m_HexValue=c)},null,8,["modelValue"]),ne,a(d,{placeholder_text:"HSL Value",modelValue:o.m_HSLString,"onUpdate:modelValue":e[2]||(e[2]=c=>o.m_HSLString=c)},null,8,["modelValue"])])],32),i("div",ie,[(h(!0),x(f,null,B(o.colourQueue.maxSize,(c,w)=>(h(),x("div",{key:w,class:"Queue-Box",style:T({"background-color":o.colourQueue.getColour(w)}),onClick:_=>n.loadColour(w)},null,12,ae))),128))]),i("p",null," Hue = "+b(o.m_HSLValues.Hue),1),a(m,{no_Items:300,start_Index:o.m_HSLValues.Hue,modelValue:o.m_HSLValues.Hue,"onUpdate:modelValue":e[4]||(e[4]=c=>o.m_HSLValues.Hue=c),onMousedown:n.disableTextUpdate,onMouseup:n.enableTextUpdate},null,8,["start_Index","modelValue","onMousedown","onMouseup"]),i("p",null," Saturation = "+b(o.m_HSLValues.Saturation)+"% ",1),a(m,{no_Items:100,start_Index:o.m_HSLValues.Saturation,modelValue:o.m_HSLValues.Saturation,"onUpdate:modelValue":e[5]||(e[5]=c=>o.m_HSLValues.Saturation=c),onMousedown:n.disableTextUpdate,onMouseup:n.enableTextUpdate},null,8,["start_Index","modelValue","onMousedown","onMouseup"]),i("p",null," Light = "+b(o.m_HSLValues.Light)+"% ",1),a(m,{no_Items:100,start_Index:o.m_HSLValues.Light,modelValue:o.m_HSLValues.Light,"onUpdate:modelValue":e[6]||(e[6]=c=>o.m_HSLValues.Light=c),onMousedown:n.disableTextUpdate,onMouseup:n.enableTextUpdate},null,8,["start_Index","modelValue","onMousedown","onMouseup"]),i("div",se,[a(g,{onClick:n.saveColour,m_IconString:"Save"},{default:s(()=>[W(" Save Colour ")]),_:1},8,["onClick"])])]),_:1})]),_:1})):I("",!0)]),_:1})]))],64)}const re=M(ee,[["render",ue],["__scopeId","data-v-3848a1f2"]]),de={components:{WindowContainerDivider:j,RangeSlider:P,TextInput:z,Checkbox:A,ToolTip:J,Window:O,SVGHandler:U,ColourPicker:re},data(){return{iconSelect:K,iconImageStorage:H,windowHandler:v,m_SelectedObject:{},m_SelectedIconIndex:-1,displayText:!0,m_Rows:7,m_Columns:0,m_iconSizePixels:["50","75","100","125"],m_localIconColourHex:"#CCCCCC"}},created(){this.calculateDimensions()},unmounted(){v.disableWindow("Icon menu")},methods:{setColourData(t){this.m_SelectedObject.iconColour=t},getIndex(){for(let t=0;t<this.m_iconSizePixels.length;t++)if(this.m_SelectedObject.iconSize===this.m_iconSizePixels[t])return t},newSelect(t){if(this.isCurrentlySelected())return;let e=H.getPathFromIndex(t);this.m_SelectedObject.iconImage=e.name,this.setSVGIndex(e.name)},getSVG(t){return H.getPathFromIndex(t).pathData},calculateDimensions(){let t=40;this.m_Columns=~~(t/this.m_Rows)},isSelectedIcon(t){if(!this.isCurrentlySelected())return this.m_SelectedIconIndex===t},focusClickedTab(t){if(this.$windowStack.length<=1)return;let e=t.toLowerCase(),l=this.$windowStack.value.indexOf(e);if(l!=this.$windowStack.value.length-1&&l>-1){let r=this.$windowStack.value[l];this.$windowStack.value.splice(l,1),this.$windowStack.value.push(r)}},isCurrentlySelected(){return Object.keys(this.m_SelectedObject).length===0&&this.m_SelectedObject.constructor===Object},displaySelectedData(t){if(t.iconID===""||t.groupID===""){this.m_SelectedObject={};return}let e=y.getGroup(t.groupID);this.m_SelectedObject=y.getIconDataFromID(e,t.iconID),this.setSVGIndex(this.m_SelectedObject.iconImage)},setSVGIndex(t){this.m_SelectedIconIndex=H.getIndexFromName(t)},changeIconSize(t){this.m_SelectedObject.iconSize=this.m_iconSizePixels[t]}},watch:{"iconSelect.dataValue":{handler(t){this.displaySelectedData(t)},deep:!0}}},D=t=>(R("data-v-18081854"),t=t(),E(),t),ce={class:"flex"},me={class:"width-half"},he=D(()=>i("h2",{class:"inline"}," Displayed icon ",-1)),Se={class:"pos-absolute bottom-right button-shift"},_e={key:0},pe={class:"width-half"},ge=D(()=>i("h2",{class:"inline"}," Name ",-1)),xe=D(()=>i("h2",{class:"inline"}," Icon Size ",-1)),Ce={class:"saved-grid width-full grid"};function Ve(t,e,l,r,o,n){const u=S("SVGHandler"),d=S("ColourPicker"),m=S("WindowContainerDivider"),g=S("TextInput"),p=S("RangeSlider"),L=S("ToolTip"),c=S("Checkbox"),w=S("Window");return h(),x(f,null,[i("div",null,[i("div",ce,[i("div",me,[a(m,{class:"container-divider"},{header:s(()=>[he]),content:s(()=>[i("div",{class:"image-placeholder flex pos-relative mouse-hover",onClick:e[2]||(e[2]=X(_=>o.windowHandler.toggleWindow("icon menu"),["self"]))},[n.isCurrentlySelected()?(h(),V(u,{key:1,height:"100%",width:"100%",path_Value:o.iconImageStorage.getPathData("Cross"),view_Box:o.iconImageStorage.getViewBoxName("Cross")},null,8,["path_Value","view_Box"])):(h(),x(f,{key:0},[i("div",{class:"icon-fit center fit-content",onClick:e[0]||(e[0]=_=>o.windowHandler.toggleWindow("icon menu"))},[a(u,{height:"150",width:"150",fill_Colour:o.m_SelectedObject.iconColour,path_Value:o.iconImageStorage.getPathData(o.m_SelectedObject.iconImage),view_Box:o.iconImageStorage.getViewBoxName(o.m_SelectedObject.iconImage)},null,8,["fill_Colour","path_Value","view_Box"])]),i("div",Se,[a(d,{loaded_Data:o.m_SelectedObject.iconColour,onSetColour:e[1]||(e[1]=_=>n.setColourData(_))},null,8,["loaded_Data"])])],64))]),n.isCurrentlySelected()?(h(),x("p",_e," None currently selected! ")):I("",!0)]),_:1})]),i("div",pe,[a(m,{class:"container-divider"},{header:s(()=>[ge]),content:s(()=>[a(g,{placeholder_text:"Icon name",modelValue:o.m_SelectedObject.iconString,"onUpdate:modelValue":e[3]||(e[3]=_=>o.m_SelectedObject.iconString=_)},null,8,["modelValue"])]),_:1}),a(m,{class:"container-divider"},{header:s(()=>[xe]),content:s(()=>[a(p,{no_Items:o.m_iconSizePixels.length,caption_Data:o.m_iconSizePixels,modelValue:o.m_SelectedObject.iconSize,"onUpdate:modelValue":e[4]||(e[4]=_=>o.m_SelectedObject.iconSize=_)},null,8,["no_Items","caption_Data","modelValue"])]),tooltip:s(()=>[a(L,null,{default:s(()=>[W(" Size in px of the icon")]),_:1})]),_:1})])]),i("div",null,[i("label",null,[a(c,{onOnChange:e[5]||(e[5]=_=>o.m_SelectedObject.displayText=_),checkValue:o.m_SelectedObject.displayText,text:"Toggle display Text"},null,8,["checkValue"])])])]),(h(),V(N,{to:"body"},[a(G,{name:"fade"},{default:s(()=>[o.windowHandler.getEditValue("Icon Menu")?(h(),V(w,{key:0,windowHandler:"",title:"Icon Menu",width:500},{"window-icon":s(()=>[a(u,{height:"35px",width:"auto",view_Box:"0 -960 960 960",fill_Colour:"#CCCCCC",path_Value:o.iconImageStorage.getPathData("Bookmark_Plus")},null,8,["path_Value"])]),"window-content":s(()=>[a(m,null,{content:s(()=>[i("div",Ce,[(h(!0),x(f,null,B(o.m_Rows*o.m_Columns,(_,C)=>(h(),x("div",{key:C,class:Y(["saved-icons flex",{"icon-Selection":n.isSelectedIcon(C),"grid-item":!n.isSelectedIcon(C)}])},[o.iconImageStorage.isValidIndex(C)?(h(),V(u,{key:0,width:"100%",height:"auto",fill_Colour:o.m_localIconColourHex,path_Value:n.getSVG(C),view_Box:o.iconImageStorage.getViewBoxIndex(C),onClick:we=>n.newSelect(C)},null,8,["fill_Colour","path_Value","view_Box","onClick"])):I("",!0)],2))),128))])]),_:1})]),_:1})):I("",!0)]),_:1})]))],64)}const fe=M(de,[["render",Ve],["__scopeId","data-v-18081854"]]);export{fe as default};
