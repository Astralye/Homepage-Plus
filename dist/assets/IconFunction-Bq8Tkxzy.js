import{_ as w,A as v,i as C,b as x,c,o as u,d as h,B as O,D as j,e as r,E as Q,f as l,h as o,z as T,G as S,F as L,j as U,y as b,t as R,l as g,u as A,a as B,T as E,S as F,v as y,x as k,k as p,q as G,s as H}from"./index-c0Kn3JWq.js";const W={data(){return{mouseData:v,iconImageStorage:C,toggleDropDown:!1,searchQuery:""}},components:{SVGHandler:x},props:{modelValue:{type:Array,required:!0},Selected_Index:{type:Number,default:-1}},emits:["update:modelValue","Selected-Value"],unmounted(){this.disableDropDown()},methods:{toggle(){this.toggleDropDown=!this.toggleDropDown},enable(){this.toggleDropDown=!0},disable(){this.toggleDropDown=!1},enableDropDown(){window.addEventListener("click",this.checkClicked),this.enable()},disableDropDown(){window.removeEventListener("click",this.checkClicked),this.disable()},isValidInput(e){return typeof e!="string"||!/^[a-zA-Z0-9-.]{1,253}\.?$/g.test(e)||(e.endsWith(".")&&(e=e.slice(0,e.length-1)),e.length>253)?!1:e.split(".").every(function(i){return/^([a-zA-Z0-9-]+)$/g.test(i)&&i.length<64&&!i.startsWith("-")&&!i.endsWith("-")})},isValueExist(e){for(let t=0;t<this.modelValue.length;t++)if(this.modelValue[t]===e.toLowerCase())return!0;return!1},selectOption(e){this.searchQuery=e,this.emitQuery(),this.disable()},addValueToArray(e){if(this.isValueExist(e)){this.selectOption(e);return}this.isValidInput(e)&&(this.modelValue.push(e.toLowerCase()),this.updateModel(),this.selectOption(e))},removeValueFromArray(e){if(!this.isValueExist(e)||!this.isValidInput(e))return;const t=this.modelValue.indexOf(e);this.modelValue.splice(t,1),this.updateModel(),this.searchQuery="",this.emitQuery()},checkClicked(e){this.$el.contains(e.target)||this.disableDropDown()},updateModel(){this.$emit("update:modelValue",this.modelValue)},emitQuery(){this.$emit("Selected-Value",this.searchQuery)}},computed:{filteredSearch(){return this.searchQuery===""?this.modelValue:this.modelValue.filter(e=>e.toLowerCase().replace(/\s+/g,"").includes(this.searchQuery.toLowerCase().replace(/\s+/g,"")))}},watch:{Selected_Index(e){e<0||(this.searchQuery=this.modelValue[e])}}},M={class:"full-width relative"},N=["onClick"],Z=["onClick"],z={key:0,class:"item-container"};function X(e,t,D,V,i,s){const m=c("SVGHandler");return u(),h("div",M,[O(r("input",{class:"dropdown-search",type:"text","onUpdate:modelValue":t[0]||(t[0]=n=>i.searchQuery=n),onInput:t[1]||(t[1]=(...n)=>s.enableDropDown&&s.enableDropDown(...n)),onClick:t[2]||(t[2]=(...n)=>s.enableDropDown&&s.enableDropDown(...n)),onKeydown:t[3]||(t[3]=Q(n=>s.addValueToArray(i.searchQuery),["enter"]))},null,544),[[j,i.searchQuery]]),l(S,{name:"dropdown"},{default:o(()=>[i.toggleDropDown?(u(),h("div",{key:0,class:T(["dropdown-item-wrapper full-width",{scroll:s.filteredSearch.length>4}])},[l(S,{name:"list-item"},{default:o(()=>[(u(!0),h(L,null,U(s.filteredSearch,(n,d)=>(u(),h("div",{key:d,class:"item-container flex"},[r("div",{class:"text noselect",onClick:b(f=>s.selectOption(n),["self"])},R(n),9,N),r("div",{class:"delete-button",onClick:f=>s.removeValueFromArray(n)},[l(m,{width:"2em",height:"2em",path_Value:i.iconImageStorage.getPathData("Cross"),view_Box:"0 -960 960 960",fill_Colour:"#CCCCCC"},null,8,["path_Value"])],8,Z)]))),128))]),_:1}),!s.isValueExist(i.searchQuery)&&i.searchQuery.length>=1?(u(),h("div",z,[r("div",{class:"text",onClick:t[4]||(t[4]=b(n=>s.addValueToArray(i.searchQuery),["self"]))}," Add new item? ")])):g("",!0)],2)):g("",!0)]),_:1})])}const Y=w(W,[["render",X],["__scopeId","data-v-278cdf07"]]),K={components:{ToolTip:A,WindowContainerDivider:B,TextInput:E,OptionSelect:Y,SingleButton:F},data(){return{iconSelect:y,m_LinkInfo:{protocol:"https://",root:"",subdirectory:"",search:""},m_SelectedIndex:-1,m_URLObject:null,m_SelectedObject:{},m_StoredDomains:[]}},created(){this.displaySelectedData(y.dataValue)},methods:{displaySelectedData(e){if(e.iconID===""||e.groupID===""){this.m_SelectedObject={};return}let t=k.getGroup(e.groupID);this.m_SelectedObject=k.getIconDataFromID(t,e.iconID)},updateLink(){Object.keys(this.m_SelectedObject).length===0&&this.m_SelectedObject.constructor===Object||(this.m_SelectedObject.link=this.m_URLObject.href)},updateLinkValue(e){this.m_URLObject=new URL(e)},addDomain(e){this.m_StoredDomains.includes(e)||this.m_StoredDomains.push(e);for(let t=0;t<this.m_StoredDomains.length;t++)this.m_StoredDomains[t]===e&&(this.m_SelectedIndex=t)}},watch:{"iconSelect.dataValue":{handler(e){this.displaySelectedData(e)},deep:!0}},computed:{m_DisplayLink:{get(){if(this.m_LinkInfo.root!=="")return this.m_LinkInfo.subdirectory[0]!="/"&&""+this.m_LinkInfo.subdirectory,this.updateLinkValue(this.m_LinkInfo.protocol+this.m_LinkInfo.root+this.m_LinkInfo.subdirectory+this.m_LinkInfo.search),this.m_URLObject.href},set(e){let t=URL.parse(e);t&&(this.updateLinkValue(t),this.addDomain(this.m_URLObject.host),this.m_LinkInfo.root=this.m_URLObject.host,this.m_LinkInfo.subdirectory=this.m_URLObject.pathname,this.m_LinkInfo.search=this.m_URLObject.search)}}}},_=e=>(G("data-v-bb014e30"),e=e(),H(),e),P=_(()=>r("h2",{class:"inline"}," URL Link ",-1)),J={class:"flex flex-space"},q=_(()=>r("h3",{class:"inline"}," Hostname ",-1)),$=_(()=>r("h3",{class:"inline"}," Subdirectory ",-1)),ee=_(()=>r("input",{type:"checkbox"},null,-1)),te={class:"right-side"};function ie(e,t,D,V,i,s){const m=c("TextInput"),n=c("ToolTip"),d=c("WindowContainerDivider"),f=c("OptionSelect"),I=c("SingleButton");return u(),h(L,null,[l(d,{class:"container-divider"},{header:o(()=>[P]),content:o(()=>[l(m,{modelValue:s.m_DisplayLink,"onUpdate:modelValue":t[0]||(t[0]=a=>s.m_DisplayLink=a)},null,8,["modelValue"])]),tooltip:o(()=>[l(n,null,{default:o(()=>[p(" Calculates the domain and directory automatically. 'https://' is required otherwise it opens the relative to this site. ")]),_:1})]),_:1}),r("div",J,[l(d,{class:"container-divider"},{header:o(()=>[q]),content:o(()=>[l(f,{modelValue:i.m_StoredDomains,"onUpdate:modelValue":t[1]||(t[1]=a=>i.m_StoredDomains=a),Selected_Index:i.m_SelectedIndex,onSelectedValue:t[2]||(t[2]=a=>i.m_LinkInfo.root=a)},null,8,["modelValue","Selected_Index"])]),tooltip:o(()=>[l(n,null,{default:o(()=>[p(" Root name of a website. It contains something like [www.XYZ.jkl] ")]),_:1})]),_:1}),l(d,{class:"container-divider"},{header:o(()=>[$]),content:o(()=>[l(m,{modelValue:i.m_LinkInfo.subdirectory,"onUpdate:modelValue":t[3]||(t[3]=a=>i.m_LinkInfo.subdirectory=a)},null,8,["modelValue"])]),tooltip:o(()=>[l(n,null,{default:o(()=>[p(" Directory after the domain name e.g youtube.com/{XYZ} where XYZ is the input ")]),_:1})]),_:1})]),l(d,{class:"container-divider"},{content:o(()=>[ee,p(" Open on new window? "),r("div",te,[l(I,{m_iconString:e.Save,onClick:t[4]||(t[4]=a=>s.updateLink())},{default:o(()=>[p(" Save ")]),_:1},8,["m_iconString"])])]),_:1})],64)}const oe=w(K,[["render",ie],["__scopeId","data-v-bb014e30"]]);export{oe as default};
